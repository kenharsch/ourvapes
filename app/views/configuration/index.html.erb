<%= stylesheet_link_tag "product_list_entry" %>

<%= session[:kit_obj].size %>

<div class = "container" id = "configurator">

	<div class = "row">
		<h1>
			Configuration
		</h1>
	</div>

	<%= render "pair_compat_messages" %>

	<% @conf_objects.parts.each do |part_type, part_object| %>

	<div class = "product-tile row">

		<% present = !part_object.nil? %>

		<div class="padded-5 bg-white-gray">
			<strong>
				<%= part_type.capitalize %>
			</strong>
			<%= render 'configuration/product_type_description', part_type: part_type %>
		</div>

		<div class = "<% if present %>col-sm-9 col-xs-12<% else %>col-sm-1<% end %>">
			<% if present %><%= render 'shared/product_list_entry', prod: part_object %>
				<% @add_or_change = "Change" %>
			<% else %>
				<% @add_or_change = "Choose" %>
			<% end %>
		</div>

		<div class = "col-sm-2 col-xs-12">
			<% if present %>
				<%= button_to "Remove", {action: "remove",
				controller: "configuration", remove: part_type},
				class: "btn btn-default btn-block"%>
			<% end %>
		<%= button_to @add_or_change, {action: "list", controller: "product_list",
			type: part_type}, class: "btn btn-default btn-block"%>
		</div>

		<% if present %>
			<%= render "single_compat_messages", {part_type: part_type} %>
		<% end %>

	</div>

	<% if present %><% else %> <% end %>
	<% end %>

	<div class = "col-xs-12">
		<%= button_to "Clear", "configuration/clear", method: :get, class: "btn btn-default",
		data: {confirm: "Are you sure you want to clear all products?"}%>
	</div>
</div>
